<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="css/style-mo.css">
  <link rel="stylesheet" href="css/style-t.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<body>
<div class="content">
  <div class="wrap enjoy" data-view="4">
    <div class="vid">
      <iframe src='https://player.vimeo.com/video/949737226?controls=0&autoplay=true&loop=true&muted=true&controls=true&quality=auto&autopause=0' frameborder='0' allowfullscreen></iframe>
    </div>
    <img src="images/mo/top.png" class="kv" alt="">
    <div class="tab-wrap" id="sticker">
      <a class="tab" data-tab="0">민지</a>
      <a class="tab" data-tab="1">다니엘</a>
      <a class="tab" data-tab="2">하니</a>
      <a class="tab" data-tab="3">혜인</a>
      <a class="tab" data-tab="4">혜린</a>
    </div>

    <section>
      <article class="art1">
        <div class="tit" ><img src="images/mo/cnt1-1.png" alt=""></div>
        <div class="vis mov" ><img src="images/mo/cnt1-2.png" alt=""></div>
        <div class="prd mov" ><img src="images/mo/cnt1-3.png" alt=""></div>
        <div class="slide-prd">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5899" class="btn"><img src="images/mo/prd1-1.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5900" class="btn"><img src="images/mo/prd1-2.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5917" class="btn"><img src="images/mo/prd1-3.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5902" class="btn"><img src="images/mo/prd1-4.png" alt=""></a></div>
            </div>
            <div class="swiper-scrollbar"></div>
          </div>
        </div>
      </article>
      <article class="art2">
        <div class="tit" ><img src="images/mo/cnt2-1.png" alt=""></div>
        <div class="vis mov" ><img src="images/mo/cnt2-2.png" alt=""></div>
        <div class="prd mov" ><img src="images/mo/cnt2-3.png" alt=""></div>
        <div class="slide-prd">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5738" class="btn"><img src="images/mo/prd2-1.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5741" class="btn"><img src="images/mo/prd2-2.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5735" class="btn"><img src="images/mo/prd2-3.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5739" class="btn"><img src="images/mo/prd2-4.png" alt=""></a></div>
            </div>
            <div class="swiper-scrollbar"></div>
          </div>
        </div>
      </article>
      <article class="art3">
        <div class="tit" ><img src="images/mo/cnt3-1.png" alt=""></div>
        <div class="vis mov" ><img src="images/mo/cnt3-2.png" alt=""></div>
        <div class="prd mov" ><img src="images/mo/cnt3-3.png" alt=""></div>
        <div class="slide-prd">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=3960" class="btn"><img src="images/mo/prd3-1.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=3959" class="btn"><img src="images/mo/prd3-2.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4045" class="btn"><img src="images/mo/prd3-3.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=3702" class="btn"><img src="images/mo/prd3-4.png" alt=""></a></div>
            </div>
            <div class="swiper-scrollbar"></div>
          </div>
        </div>
      </article>
      <article class="art4 ">
        <div class="tit" ><img src="images/mo/cnt4-1.png" alt=""></div>
        <div class="vis mov" ><img src="images/mo/cnt4-2.png" alt=""></div>
        <div class="prd mov" ><img src="images/mo/cnt4-3.png" alt=""></div>
        <div class="slide-prd">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4262" class="btn"><img src="images/mo/prd4-1.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4260" class="btn"><img src="images/mo/prd4-2.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4256" class="btn"><img src="images/mo/prd4-3.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4342" class="btn"><img src="images/mo/prd4-4.png" alt=""></a></div>
            </div>
            <div class="swiper-scrollbar"></div>
          </div>
        </div>
      </article>
      <article class="art5 active">
        <div class="tit" ><img src="images/mo/cnt5-1.png" alt=""></div>
        <div class="vis mov" ><img src="images/mo/cnt5-2.png" alt=""></div>
        <div class="prd mov" ><img src="images/mo/cnt5-3.png" alt=""></div>
        <div class="slide-prd">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5245" class="btn"><img src="images/mo/prd5-1.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=4262" class="btn"><img src="images/mo/prd5-2.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5087" class="btn"><img src="images/mo/prd5-3.png" alt=""></a></div>
              <div class="swiper-slide"><a href="https://stonehenge.co.kr/product/detail.html?product_no=5082" class="btn"><img src="images/mo/prd5-4.png" alt=""></a></div>
            </div>
            <div class="swiper-scrollbar"></div>
          </div>
        </div>
      </article>
      <div class="bott-slide">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="images/mo/bott1.png" alt=""></div>
            <div class="swiper-slide"><img src="images/mo/bott2.png" alt=""></div>
            <div class="swiper-slide"><img src="images/mo/bott3.png" alt=""></div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.sticky/1.0.4/jquery.sticky.min.js" integrity="sha512-QABeEm/oYtKZVyaO8mQQjePTPplrV8qoT7PrwHDJCBLqZl5UmuPi3APEcWwtTNOiH24psax69XPQtEo5dAkGcA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  let tab = document.querySelectorAll('.tab');
  let enjoy = document.querySelector('.enjoy');
  let art = document.querySelectorAll('article');
  Array.prototype.forEach.call(tab, function(e) {
    e.addEventListener('click', function() {
      moveClear();
      let idx = e.getAttribute('data-tab')
      enjoy.setAttribute('data-view', idx);
      for (let i = 0; i < art.length; i++) {
        art[i].classList.remove('active');
      }
      art[idx].classList.add('active');
      scrollVis();
    })
  });

  function moveClear() {
    let mv = document.querySelectorAll('.mov');
    for (let i = 0; i < mv.length; i++) {
      mv[i].classList.remove('move-on');
    }
  }

  function scrollVis() {
    if(window.pageYOffset > 10) {
      let kvH = document.querySelector('.enjoy .kv').getBoundingClientRect().height;
      let vidH = document.querySelector('.vid').getBoundingClientRect().height;
      let scT = kvH + vidH + 30;
      window.scrollTo({top:scT, behavior: 'smooth'});
    }
  }

  let sticker = $("#sticker");
  let bottomSpacingValue = 0;
  sticker.sticky({topSpacing:61,bottomSpacing:bottomSpacingValue});
  // $(document).ready(function(){
  //   let bodyH = document.querySelector('body').getBoundingClientRect().height;
  //   let enjoyH = enjoy.getBoundingClientRect().height;
  //   let headerH = document.querySelector('header').getBoundingClientRect().height;
  //   bottomSpacingValue = bodyH - enjoyH - headerH;
  //   sticker.sticky({topSpacing:61,bottomSpacing:bottomSpacingValue});
  // });

  let scrollY;
  window.addEventListener("scroll", handleScroll);
  function handleScroll() {
    scrollY = window.pageYOffset || document.documentElement.scrollTop;
    initIntersectionObserver();
  }

  function initIntersectionObserver() {
    const io = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.intersectionRatio > 0.1) {
          setTimeout(() =>{
            entry.target.classList.add('move-on');
          },100);
        }
      })
    });
    const move = document.querySelectorAll('.mov');
    move.forEach((el) => {
      io.observe(el);
    });
  }

  window.onload = function() {
    initIntersectionObserver();
  }

  var swiper1 = new Swiper(".art1 .swiper", {
    speed: 1500,
    spaceBetween: 5,
    slidesPerView: 2,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
  });
  var swiper2 = new Swiper(".art2 .swiper", {
    speed: 1500,
    spaceBetween: 5,
    slidesPerView: 2,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
  });
  var swiper3 = new Swiper(".art3 .swiper", {
    speed: 1500,
    spaceBetween: 5,
    slidesPerView: 2,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
  });
  var swiper4 = new Swiper(".art4 .swiper", {
    speed: 1500,
    spaceBetween: 5,
    slidesPerView: 2,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
  });
  var swiper5 = new Swiper(".art5 .swiper", {
    speed: 1500,
    spaceBetween: 5,
    slidesPerView: 2,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
  });
  var swiperBott = new Swiper(".bott-slide .swiper", {
    speed: 4000,
    slidesPerView: 1.04,
    loop: true,
    autoplay: {
      delay: 0,
      disableOnInteraction: false,
    },
  });
</script>
</body>
</html>